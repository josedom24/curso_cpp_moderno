Perfecto, aquí tienes el apartado **Propiedad de los recursos y gestión automática** para tu curso de C++ moderno:

---

## Gestión de recursos y punteros

### Propiedad de los recursos y gestión automática

En C++, la gestión eficaz y segura de recursos se basa en el concepto fundamental de **propiedad** de recursos. Este concepto se refiere a qué entidad o variable “posee” un recurso en un momento dado y, por lo tanto, es responsable de su liberación.

---

#### ¿Qué es la propiedad de un recurso?

Un recurso puede ser cualquier elemento externo al programa que requiere adquisición y liberación explícita: memoria dinámica, archivos abiertos, conexiones de red, mutexes, etc.

La **propiedad** determina quién es responsable de liberar el recurso cuando ya no se necesite. Controlar correctamente la propiedad evita errores graves como fugas de memoria, doble liberación o uso de recursos liberados.

---

#### Gestión automática: delegar la responsabilidad

El objetivo en C++ moderno es lograr una **gestión automática** de recursos basada en un modelo claro de propiedad. Esto se consigue mediante:

* **Encapsulación:** envolver el recurso dentro de un objeto que gestiona su vida útil.
* **Transferencia de propiedad:** definir claramente cuándo y cómo la propiedad del recurso se transfiere de un objeto a otro.
* **Liberación automática:** aprovechar la destrucción automática del objeto para liberar el recurso.

---

#### Ejemplo clásico de propiedad y transferencia: punteros inteligentes

Los punteros inteligentes de la biblioteca estándar (`std::unique_ptr`, `std::shared_ptr`) ejemplifican cómo se gestiona la propiedad:

* `std::unique_ptr` tiene **propiedad exclusiva** del recurso. Solo un puntero puede poseerlo, y cuando el puntero se destruye, libera el recurso automáticamente.
* La propiedad puede transferirse moviendo el `unique_ptr` a otro objeto, lo que garantiza que el recurso tenga un único dueño en cada momento.

```cpp
std::unique_ptr<int> p1 = std::make_unique<int>(10); // p1 es dueño
std::unique_ptr<int> p2 = std::move(p1);            // p2 es dueño, p1 queda vacío
```

* `std::shared_ptr` permite **propiedad compartida**, donde varios punteros pueden compartir la propiedad de un recurso. El recurso se libera automáticamente cuando el último `shared_ptr` propietario se destruye.

---

#### ¿Por qué es importante definir la propiedad?

No definir claramente quién es dueño de un recurso puede llevar a:

* **Fugas de memoria:** si nadie libera el recurso.
* **Doble liberación:** si varios liberan el mismo recurso.
* **Acceso a recursos inválidos:** usar un recurso después de que haya sido liberado.

---

#### Gestión manual vs. gestión automática

* **Gestión manual:** el programador se encarga explícitamente de liberar recursos mediante llamadas a `delete`, `fclose`, `free`, etc. Este modelo es propenso a errores.

* **Gestión automática:** el recurso está encapsulado dentro de un objeto cuya destrucción libera el recurso automáticamente (ejemplo: RAII). Así se delega la responsabilidad al sistema y se evita la mayoría de errores.

---

#### Resumen

* La **propiedad** determina quién es responsable de liberar un recurso.
* La **gestión automática** implica que la liberación del recurso ocurre automáticamente cuando el objeto propietario se destruye.
* C++ moderno promueve la encapsulación de recursos en objetos que gestionan su propia propiedad, como punteros inteligentes o clases RAII.
* Transferir correctamente la propiedad (por ejemplo, con `std::move`) es clave para evitar errores y optimizar el uso de recursos.

---

¿Quieres que continúe ahora con el apartado **Punteros y referencias**?
